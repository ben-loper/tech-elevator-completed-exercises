@section Title{
    Products
}

@section StyleSheet {
    <link rel="stylesheet" href="~/css/product-list.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
}

@model IList<Product>

<h2 class="page-title" style="display:inline">All Products</h2>

<a asp-controller="Products" asp-action="Tile">
    <i class="fas fa-th-large fa-2x"></i>
</a>

    <main id="products-content">
        @foreach (var item in Model)
        {
            <div class="product-row">
                <a asp-controller="Products" asp-action="Detail" asp-route-id="@item.ProductId">
                    <img class="product-img" src="~/images/@item.ImageName" />
                </a>
                <div class="product-info">
                    <h3>
                        <a class="product-link" asp-controller="Products" asp-action="Detail" asp-route-id="@item.ProductId">
                            @item.Name
                        </a>
                        @if (item.IsTopSeller)
                        {
                            <img class="best-seller-tag" src="~/images/best-seller.png" />
                        }

                    </h3>

                    <p>by @item.Manufacturer</p>
                    @if (item.RemainingStock <= 3)
                    {
                        <p class="remaining-stock-tag">Only @item.RemainingStock left!</p>
                    }
                    <p class="product-price">@item.Price.ToString("C")</p>
                    <p><span style="font-weight:bold">Weight</span> @item.WeightInLbs Ibs</p>
                    @if (item.AverageRating >= 5)
                    {
                        <img class="avg-rating-img" src="~/images/5-star.png" />
                    }
                    else if (item.AverageRating >= 4)
                    {
                        <img class="avg-rating-img" src="~/images/4-star.png" />
                    }
                    else if (item.AverageRating >= 3)
                    {
                        <img class="avg-rating-img" src="~/images/3-star.png" />
                    }
                    else if (item.AverageRating >= 2)
                    {
                        <img class="avg-rating-img" src="~/images/2-star.png" />
                    }
                    else if (item.AverageRating >= 1)
                    {
                        <img class="avg-rating-img" src="~/images/1-star.png" />
                    }
                </div>
            </div>
        }
    </main>
